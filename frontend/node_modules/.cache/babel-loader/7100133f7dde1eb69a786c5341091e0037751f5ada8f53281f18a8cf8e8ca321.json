{"ast":null,"code":"var _jsxFileName = \"/Users/zachary/Desktop/reddit-saved-gallery/src/components/MediaItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MediaItem({\n  post\n}) {\n  _s();\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n\n  // Get media URL based on post type\n  const getMediaUrl = post => {\n    // Handle direct image links\n    if (post.url.match(/\\.(jpg|jpeg|png|gif)$/i)) {\n      return post.url;\n    }\n\n    // Handle Reddit videos\n    if (post.is_video && post.media && post.media.reddit_video) {\n      return post.media.reddit_video.fallback_url;\n    }\n\n    // Handle imgur links without extension\n    if (post.url.includes('imgur.com') && !post.url.match(/\\.(jpg|jpeg|png|gif)$/i)) {\n      return `${post.url}.jpg`;\n    }\n\n    // Handle gfycat links\n    if (post.url.includes('gfycat.com')) {\n      const gfycatId = post.url.split('/').pop();\n      return `https://thumbs.gfycat.com/${gfycatId}-size_restricted.gif`;\n    }\n\n    // Default case\n    return post.thumbnail !== 'default' ? post.thumbnail : null;\n  };\n  const mediaUrl = getMediaUrl(post);\n  const isVideo = post.is_video || (mediaUrl === null || mediaUrl === void 0 ? void 0 : mediaUrl.includes('.mp4'));\n  const isGif = !isVideo && ((mediaUrl === null || mediaUrl === void 0 ? void 0 : mediaUrl.includes('.gif')) || post.url.includes('gfycat'));\n  const handleLoad = () => setLoaded(true);\n  const handleError = () => setError(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"media-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"media-content\",\n      children: [!loaded && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 31\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Failed to load media\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: post.url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Open original\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this) : isVideo ? /*#__PURE__*/_jsxDEV(\"video\", {\n        controls: true,\n        loop: true,\n        muted: true,\n        onLoadedData: handleLoad,\n        onError: handleError,\n        src: mediaUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) : isGif ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mediaUrl,\n        alt: post.title,\n        onLoad: handleLoad,\n        onError: handleError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mediaUrl,\n        alt: post.title,\n        onLoad: handleLoad,\n        onError: handleError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"media-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"r/\", post.subreddit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Posted by u/\", post.author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `https://reddit.com${post.permalink}`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"view-post-button\",\n        children: \"View Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(MediaItem, \"xhLGWNRXismfk6p4OIQTvnVVfQY=\");\n_c = MediaItem;\nexport default MediaItem;\nvar _c;\n$RefreshReg$(_c, \"MediaItem\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","MediaItem","post","_s","loaded","setLoaded","error","setError","getMediaUrl","url","match","is_video","media","reddit_video","fallback_url","includes","gfycatId","split","pop","thumbnail","mediaUrl","isVideo","isGif","handleLoad","handleError","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","target","rel","controls","loop","muted","onLoadedData","onError","src","alt","title","onLoad","subreddit","author","permalink","_c","$RefreshReg$"],"sources":["/Users/zachary/Desktop/reddit-saved-gallery/src/components/MediaItem.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction MediaItem({ post }) {\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  \n  // Get media URL based on post type\n  const getMediaUrl = (post) => {\n    // Handle direct image links\n    if (post.url.match(/\\.(jpg|jpeg|png|gif)$/i)) {\n      return post.url;\n    }\n    \n    // Handle Reddit videos\n    if (post.is_video && post.media && post.media.reddit_video) {\n      return post.media.reddit_video.fallback_url;\n    }\n    \n    // Handle imgur links without extension\n    if (post.url.includes('imgur.com') && !post.url.match(/\\.(jpg|jpeg|png|gif)$/i)) {\n      return `${post.url}.jpg`;\n    }\n    \n    // Handle gfycat links\n    if (post.url.includes('gfycat.com')) {\n      const gfycatId = post.url.split('/').pop();\n      return `https://thumbs.gfycat.com/${gfycatId}-size_restricted.gif`;\n    }\n    \n    // Default case\n    return post.thumbnail !== 'default' ? post.thumbnail : null;\n  };\n  \n  const mediaUrl = getMediaUrl(post);\n  const isVideo = post.is_video || mediaUrl?.includes('.mp4');\n  const isGif = !isVideo && (mediaUrl?.includes('.gif') || post.url.includes('gfycat'));\n  \n  const handleLoad = () => setLoaded(true);\n  const handleError = () => setError(true);\n\n  return (\n    <div className=\"media-item\">\n      <div className=\"media-content\">\n        {!loaded && !error && <div className=\"media-loading\">Loading...</div>}\n        \n        {error ? (\n          <div className=\"media-error\">\n            <p>Failed to load media</p>\n            <a href={post.url} target=\"_blank\" rel=\"noopener noreferrer\">Open original</a>\n          </div>\n        ) : isVideo ? (\n          <video \n            controls\n            loop\n            muted\n            onLoadedData={handleLoad}\n            onError={handleError}\n            src={mediaUrl}\n          />\n        ) : isGif ? (\n          <img \n            src={mediaUrl}\n            alt={post.title}\n            onLoad={handleLoad}\n            onError={handleError}\n          />\n        ) : (\n          <img \n            src={mediaUrl} \n            alt={post.title}\n            onLoad={handleLoad}\n            onError={handleError}\n          />\n        )}\n      </div>\n      \n      <div className=\"media-info\">\n        <h3>{post.title}</h3>\n        <div className=\"post-details\">\n          <span>r/{post.subreddit}</span>\n          <span>Posted by u/{post.author}</span>\n        </div>\n        <a \n          href={`https://reddit.com${post.permalink}`}\n          target=\"_blank\" \n          rel=\"noopener noreferrer\"\n          className=\"view-post-button\"\n        >\n          View Post\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default MediaItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}